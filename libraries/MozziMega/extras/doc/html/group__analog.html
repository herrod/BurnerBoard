<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Mozzi: Analog</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mozzi-circle.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mozzi
   &#160;<span id="projectnumber">version 2013-07-13-17:27</span>
   </div>
   <div id="projectbrief">sound synthesis library for Arduino</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__analog.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Analog</div>  </div>
</div><!--header-->
<div class="contents">

<p>Fast analog input functions for sensors and audio Glitch-free audio by speeding up analog input functions which normally block processing.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac9b066c792d2b822dcf518eef19a7c3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#gac9b066c792d2b822dcf518eef19a7c3e">adcEnableInterrupt</a> ()</td></tr>
<tr class="memdesc:gac9b066c792d2b822dcf518eef19a7c3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this in setup() to enable reading analog inputs in the background while audio generating continues.  <a href="#gac9b066c792d2b822dcf518eef19a7c3e">More...</a><br/></td></tr>
<tr class="separator:gac9b066c792d2b822dcf518eef19a7c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf46803d06aa1d839192cc6125e39ff01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#gaf46803d06aa1d839192cc6125e39ff01">setupFastAnalogRead</a> ()</td></tr>
<tr class="memdesc:gaf46803d06aa1d839192cc6125e39ff01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make analogRead() faster than the standard Arduino version, changing the duration from about 105 in unmodified Arduino to 15 microseconds for a dependable analogRead().  <a href="#gaf46803d06aa1d839192cc6125e39ff01">More...</a><br/></td></tr>
<tr class="separator:gaf46803d06aa1d839192cc6125e39ff01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4433797b75fedd473250e9aa414dcae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#gad4433797b75fedd473250e9aa414dcae">disconnectDigitalIn</a> (byte channel_num)</td></tr>
<tr class="memdesc:gad4433797b75fedd473250e9aa414dcae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare an analog input channel by turning off its digital input buffer.  <a href="#gad4433797b75fedd473250e9aa414dcae">More...</a><br/></td></tr>
<tr class="separator:gad4433797b75fedd473250e9aa414dcae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd83735876cf223916ea4925ec4efd4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#gacd83735876cf223916ea4925ec4efd4a">reconnectDigitalIn</a> (byte channel_num)</td></tr>
<tr class="memdesc:gacd83735876cf223916ea4925ec4efd4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconnect the digital input buffer for an analog input channel which has been set for analog input with <a class="el" href="group__analog.html#gad4433797b75fedd473250e9aa414dcae" title="Prepare an analog input channel by turning off its digital input buffer.">disconnectDigitalIn()</a>.  <a href="#gacd83735876cf223916ea4925ec4efd4a">More...</a><br/></td></tr>
<tr class="separator:gacd83735876cf223916ea4925ec4efd4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5042e7c576dd0307be38eb70efdb69fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#ga5042e7c576dd0307be38eb70efdb69fe">adcDisconnectAllDigitalIns</a> ()</td></tr>
<tr class="memdesc:ga5042e7c576dd0307be38eb70efdb69fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare all analog input channels by turning off their digital input buffers.  <a href="#ga5042e7c576dd0307be38eb70efdb69fe">More...</a><br/></td></tr>
<tr class="separator:ga5042e7c576dd0307be38eb70efdb69fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabad497d1f8c8026e81849be0b65bf38f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#gabad497d1f8c8026e81849be0b65bf38f">adcReconnectAllDigitalIns</a> ()</td></tr>
<tr class="memdesc:gabad497d1f8c8026e81849be0b65bf38f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconnect the digital input buffers for analog input channels which have been set for analog input with <a class="el" href="group__analog.html#gad4433797b75fedd473250e9aa414dcae" title="Prepare an analog input channel by turning off its digital input buffer.">disconnectDigitalIn()</a>.  <a href="#gabad497d1f8c8026e81849be0b65bf38f">More...</a><br/></td></tr>
<tr class="separator:gabad497d1f8c8026e81849be0b65bf38f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0d3533acb5fd56db8f7317e24bea6b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#gae0d3533acb5fd56db8f7317e24bea6b5">adcSetChannel</a> (unsigned char pin)</td></tr>
<tr class="memdesc:gae0d3533acb5fd56db8f7317e24bea6b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the channel or pin for the next analog input to be read from.  <a href="#gae0d3533acb5fd56db8f7317e24bea6b5">More...</a><br/></td></tr>
<tr class="separator:gae0d3533acb5fd56db8f7317e24bea6b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e081d7e359e219b7dce35538fcf3e39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#ga8e081d7e359e219b7dce35538fcf3e39">adcStartConversion</a> (unsigned char pin)</td></tr>
<tr class="memdesc:ga8e081d7e359e219b7dce35538fcf3e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an analog to digital conversion of the voltage at a specified pin.  <a href="#ga8e081d7e359e219b7dce35538fcf3e39">More...</a><br/></td></tr>
<tr class="separator:ga8e081d7e359e219b7dce35538fcf3e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac3d2277d3d3823c6d5c727067571aab3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#gac3d2277d3d3823c6d5c727067571aab3">adcStartConversion</a> ()</td></tr>
<tr class="memdesc:gac3d2277d3d3823c6d5c727067571aab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the analog conversion on the pin or channel most recently set with <a class="el" href="group__analog.html#gae0d3533acb5fd56db8f7317e24bea6b5" title="Set the channel or pin for the next analog input to be read from.">adcSetChannel()</a>;.  <a href="#gac3d2277d3d3823c6d5c727067571aab3">More...</a><br/></td></tr>
<tr class="separator:gac3d2277d3d3823c6d5c727067571aab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf4320d2621e15ea704900ea26a8aa07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#gaaf4320d2621e15ea704900ea26a8aa07">adcGetResult</a> ()</td></tr>
<tr class="memdesc:gaaf4320d2621e15ea704900ea26a8aa07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for the result of the most recent <a class="el" href="group__analog.html#ga8e081d7e359e219b7dce35538fcf3e39" title="Starts an analog to digital conversion of the voltage at a specified pin.">adcStartConversion()</a>.  <a href="#gaaf4320d2621e15ea704900ea26a8aa07">More...</a><br/></td></tr>
<tr class="separator:gaaf4320d2621e15ea704900ea26a8aa07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d1ee9fa143c3a0505e76b41fc2af09f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#ga1d1ee9fa143c3a0505e76b41fc2af09f">adcGetResult</a> (unsigned char channel_num)</td></tr>
<tr class="memdesc:ga1d1ee9fa143c3a0505e76b41fc2af09f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This returns the most recent analog reading for the specified channel.  <a href="#ga1d1ee9fa143c3a0505e76b41fc2af09f">More...</a><br/></td></tr>
<tr class="separator:ga1d1ee9fa143c3a0505e76b41fc2af09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga829091330473b48a8b9236d0be4b8755"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#ga829091330473b48a8b9236d0be4b8755">adcReadAllChannels</a> ()</td></tr>
<tr class="memdesc:ga829091330473b48a8b9236d0be4b8755"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call <a class="el" href="group__analog.html#ga829091330473b48a8b9236d0be4b8755" title="Call adcReadAllChannels() in updateControl() and the results for each channel will be available by ca...">adcReadAllChannels()</a> in <a class="el" href="group__core.html#ga59d187b915b2e366c88489e52801951a" title="This is where you put your control code.">updateControl()</a> and the results for each channel will be available by calling adcGetResult(channel_num) next time <a class="el" href="group__core.html#ga59d187b915b2e366c88489e52801951a" title="This is where you put your control code.">updateControl()</a> runs.  <a href="#ga829091330473b48a8b9236d0be4b8755">More...</a><br/></td></tr>
<tr class="separator:ga829091330473b48a8b9236d0be4b8755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f15eb8d6694020d170ebcbedb645de7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__analog.html#ga3f15eb8d6694020d170ebcbedb645de7">getAudioInput</a> ()</td></tr>
<tr class="memdesc:ga3f15eb8d6694020d170ebcbedb645de7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This returns audio input from the input buffer, if #define USE_AUDIO_INPUT true is in the <a class="el" href="mozzi__config_8h.html">Mozzi/mozzi_config.h</a> file.  <a href="#ga3f15eb8d6694020d170ebcbedb645de7">More...</a><br/></td></tr>
<tr class="separator:ga3f15eb8d6694020d170ebcbedb645de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga5042e7c576dd0307be38eb70efdb69fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcDisconnectAllDigitalIns </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This helps to reduce noise, increase analog reading speed, and save power. </p>

<p>Definition at line <a class="el" href="mozzi__analog_8cpp_source.html#l00196">196</a> of file <a class="el" href="mozzi__analog_8cpp_source.html">mozzi_analog.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="gac9b066c792d2b822dcf518eef19a7c3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcEnableInterrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Then call <a class="el" href="group__analog.html#ga829091330473b48a8b9236d0be4b8755" title="Call adcReadAllChannels() in updateControl() and the results for each channel will be available by ca...">adcReadAllChannels()</a> at the end of each <a class="el" href="group__core.html#ga59d187b915b2e366c88489e52801951a" title="This is where you put your control code.">updateControl()</a> and the results for each analog channel will be available by calling adcGetResult(channel_num) next time <a class="el" href="group__core.html#ga59d187b915b2e366c88489e52801951a" title="This is where you put your control code.">updateControl()</a> runs. </p>
<dl class="section note"><dt>Note</dt><dd>This method using <a class="el" href="group__analog.html#gac9b066c792d2b822dcf518eef19a7c3e" title="Call this in setup() to enable reading analog inputs in the background while audio generating continu...">adcEnableInterrupt()</a>, <a class="el" href="group__analog.html#ga829091330473b48a8b9236d0be4b8755" title="Call adcReadAllChannels() in updateControl() and the results for each channel will be available by ca...">adcReadAllChannels()</a> and <a class="el" href="group__analog.html#gaaf4320d2621e15ea704900ea26a8aa07" title="Waits for the result of the most recent adcStartConversion().">adcGetResult()</a> is an easy and efficient way to read analog inputs while generating sound with Mozzi. For many sketches, however, simply putting <a class="el" href="group__analog.html#gaf46803d06aa1d839192cc6125e39ff01" title="Make analogRead() faster than the standard Arduino version, changing the duration from about 105 in u...">setupFastAnalogRead()</a> in setup() and calling Arduino's usual analogRead() will work fast enough. </dd>
<dd>
Don't use <a class="el" href="group__analog.html#gaf46803d06aa1d839192cc6125e39ff01" title="Make analogRead() faster than the standard Arduino version, changing the duration from about 105 in u...">setupFastAnalogRead()</a> with <a class="el" href="group__analog.html#gac9b066c792d2b822dcf518eef19a7c3e" title="Call this in setup() to enable reading analog inputs in the background while audio generating continu...">adcEnableInterrupt()</a>. It may cause the ADC process to hog the processor, causing audio glitches. </dd>
<dd>
In some cases this method can cause glitches which may have to do with the ADC interrupt interfering with the audio or control interrupts. If this occurs, use the <a class="el" href="group__analog.html#ga8e081d7e359e219b7dce35538fcf3e39" title="Starts an analog to digital conversion of the voltage at a specified pin.">adcStartConversion()</a>, <a class="el" href="group__analog.html#gaaf4320d2621e15ea704900ea26a8aa07" title="Waits for the result of the most recent adcStartConversion().">adcGetResult()</a> methods instead. </dd></dl>

<p>Definition at line <a class="el" href="mozzi__analog_8cpp_source.html#l00044">44</a> of file <a class="el" href="mozzi__analog_8cpp_source.html">mozzi_analog.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="gaaf4320d2621e15ea704900ea26a8aa07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adcGetResult </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If used as the first function of <a class="el" href="group__core.html#ga59d187b915b2e366c88489e52801951a" title="This is where you put your control code.">updateControl()</a>, to receive the result of <a class="el" href="group__analog.html#ga8e081d7e359e219b7dce35538fcf3e39" title="Starts an analog to digital conversion of the voltage at a specified pin.">adcStartConversion()</a> from the end of the last <a class="el" href="group__core.html#ga59d187b915b2e366c88489e52801951a" title="This is where you put your control code.">updateControl()</a>, there will probably be no waiting time, as the ADC conversion will have happened in between interrupts. This is a big time-saver, since you don't have to waste time waiting for analogRead() to return (1us here vs 105 us for standard Arduino). </p>
<dl class="section return"><dt>Returns</dt><dd>The resut of the most recent <a class="el" href="group__analog.html#ga8e081d7e359e219b7dce35538fcf3e39" title="Starts an analog to digital conversion of the voltage at a specified pin.">adcStartConversion()</a>. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is the most audio-friendly way to read analog inputs, but can be messier in your program than the the <a class="el" href="group__analog.html#gac9b066c792d2b822dcf518eef19a7c3e" title="Call this in setup() to enable reading analog inputs in the background while audio generating continu...">adcEnableInterrupt()</a>, <a class="el" href="group__analog.html#ga829091330473b48a8b9236d0be4b8755" title="Call adcReadAllChannels() in updateControl() and the results for each channel will be available by ca...">adcReadAllChannels()</a>, adcGetResult(byte) way. </dd>
<dd>
Timing: about 1us when used in <a class="el" href="group__core.html#ga59d187b915b2e366c88489e52801951a" title="This is where you put your control code.">updateControl()</a> with CONTROL_RATE 64. </dd></dl>

<p>Definition at line <a class="el" href="mozzi__analog_8cpp_source.html#l00155">155</a> of file <a class="el" href="mozzi__analog_8cpp_source.html">mozzi_analog.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga1d1ee9fa143c3a0505e76b41fc2af09f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adcGetResult </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>channel_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel_num</td><td>The channels are plain numbers 0 to whatever your board goes up to, not the pin labels A0 to A... which Arduino maps to different numbers depending on the board being used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="group__analog.html#gac9b066c792d2b822dcf518eef19a7c3e" title="Call this in setup() to enable reading analog inputs in the background while audio generating continu...">adcEnableInterrupt()</a>, <a class="el" href="group__analog.html#ga829091330473b48a8b9236d0be4b8755" title="Call adcReadAllChannels() in updateControl() and the results for each channel will be available by ca...">adcReadAllChannels()</a>, <a class="el" href="group__analog.html#gaaf4320d2621e15ea704900ea26a8aa07" title="Waits for the result of the most recent adcStartConversion().">adcGetResult()</a> approach is currently set to work with all channels on each kind of board. You can change the number of channels to use in <a class="el" href="mozzi__analog_8cpp.html">mozzi_analog.cpp</a> by editing NUM_ANALOG_INPUTS if desired. </dd>
<dd>
In some cases this method can cause glitches which may have to do with the ADC interrupt interfering with the audio or control interrupts. </dd></dl>

<p>Definition at line <a class="el" href="mozzi__analog_8cpp_source.html#l00251">251</a> of file <a class="el" href="mozzi__analog_8cpp_source.html">mozzi_analog.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga829091330473b48a8b9236d0be4b8755"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcReadAllChannels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reading will happen in the background, using a minimum of processor time and without blocking other code.</p>
<p>More detail: <a class="el" href="group__analog.html#ga829091330473b48a8b9236d0be4b8755" title="Call adcReadAllChannels() in updateControl() and the results for each channel will be available by ca...">adcReadAllChannels()</a> starts an initial conversion which triggers an interrupt when it's complete. The interrupt code stores the result in an array, changes to the next channel and starts another conversion. When all the channels have been sampled, the ISR doesn't start a new conversion, so it doesn't re-trigger itself or use processor time until <a class="el" href="group__analog.html#ga829091330473b48a8b9236d0be4b8755" title="Call adcReadAllChannels() in updateControl() and the results for each channel will be available by ca...">adcReadAllChannels()</a> is called again. At any time the latest conversion result for each channel is available by calling adcGetResult(channel_num). </p>
<dl class="section note"><dt>Note</dt><dd>In some cases this method can cause glitches which may have to do with the ADC interrupt interfering with the audio or control interrupts. </dd></dl>

<p>Definition at line <a class="el" href="mozzi__analog_8cpp_source.html#l00239">239</a> of file <a class="el" href="mozzi__analog_8cpp_source.html">mozzi_analog.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="gabad497d1f8c8026e81849be0b65bf38f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcReconnectAllDigitalIns </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mozzi__analog_8cpp_source.html#l00203">203</a> of file <a class="el" href="mozzi__analog_8cpp_source.html">mozzi_analog.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="gae0d3533acb5fd56db8f7317e24bea6b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcSetChannel </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>channel or pin number. If pin number is provided, <a class="el" href="group__analog.html#gae0d3533acb5fd56db8f7317e24bea6b5" title="Set the channel or pin for the next analog input to be read from.">adcSetChannel()</a> will convert it to the channel number. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mozzi__analog_8cpp_source.html#l00054">54</a> of file <a class="el" href="mozzi__analog_8cpp_source.html">mozzi_analog.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga8e081d7e359e219b7dce35538fcf3e39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcStartConversion </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlike Arduino's analogRead() function which waits until a conversion is complete before returning, <a class="el" href="group__analog.html#ga8e081d7e359e219b7dce35538fcf3e39" title="Starts an analog to digital conversion of the voltage at a specified pin.">adcStartConversion()</a> only sets the conversion to begin, so you can use the cpu for other things and call for the result later with <a class="el" href="group__analog.html#gaaf4320d2621e15ea704900ea26a8aa07" title="Waits for the result of the most recent adcStartConversion().">adcGetResult()</a>. This works well in <a class="el" href="group__core.html#ga59d187b915b2e366c88489e52801951a" title="This is where you put your control code.">updateControl()</a>, where you can call <a class="el" href="group__analog.html#ga8e081d7e359e219b7dce35538fcf3e39" title="Starts an analog to digital conversion of the voltage at a specified pin.">adcStartConversion()</a> and get the result with <a class="el" href="group__analog.html#gaaf4320d2621e15ea704900ea26a8aa07" title="Waits for the result of the most recent adcStartConversion().">adcGetResult()</a> the next time the <a class="el" href="group__core.html#ga59d187b915b2e366c88489e52801951a" title="This is where you put your control code.">updateControl()</a> interrupt runs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>is the analog pin number (A0 to A...) or the channel number (0 to ....) to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This is the most audio-friendly way to read analog inputs, but can be messier in your program than the the <a class="el" href="group__analog.html#gac9b066c792d2b822dcf518eef19a7c3e" title="Call this in setup() to enable reading analog inputs in the background while audio generating continu...">adcEnableInterrupt()</a>, <a class="el" href="group__analog.html#ga829091330473b48a8b9236d0be4b8755" title="Call adcReadAllChannels() in updateControl() and the results for each channel will be available by ca...">adcReadAllChannels()</a>, <a class="el" href="group__analog.html#gaaf4320d2621e15ea704900ea26a8aa07" title="Waits for the result of the most recent adcStartConversion().">adcGetResult()</a> way. </dd>
<dd>
Timing: about 1us when used in <a class="el" href="group__core.html#ga59d187b915b2e366c88489e52801951a" title="This is where you put your control code.">updateControl()</a> with CONTROL_RATE 64. </dd></dl>

<p>Definition at line <a class="el" href="mozzi__analog_8cpp_source.html#l00097">97</a> of file <a class="el" href="mozzi__analog_8cpp_source.html">mozzi_analog.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="gac3d2277d3d3823c6d5c727067571aab3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcStartConversion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mozzi__analog_8cpp_source.html#l00146">146</a> of file <a class="el" href="mozzi__analog_8cpp_source.html">mozzi_analog.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="gad4433797b75fedd473250e9aa414dcae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disconnectDigitalIn </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>channel_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This helps to reduce noise, increase analog reading speed, and save power.</p>
<p>Here's more detail from <a href="http://www.openmusiclabs.com/learning/digital/atmega-adc/:">http://www.openmusiclabs.com/learning/digital/atmega-adc/:</a></p>
<p>The DIDR (Data Input Disable Register) disconnects the digital inputs from whichever ADC channels you are using. This is important for 2 reasons. First off, an analog input will be floating all over the place, and causing the digital input to constantly toggle high and low. This creates excessive noise near the ADC, and burns extra power. Secondly, the digital input and associated DIDR switch have a capacitance associated with them which will slow down your input signal if you are sampling a highly resistive load.</p>
<p>And from the ATmega328p datasheet, p266:</p>
<p>When an analog signal is applied to the ADC pin and the digital input from this pin is not needed, this bit should be written logic one to reduce power consumption in the digital input buffer. Note that ADC named_pins ADC7 and ADC6 do not have digital input buffers, and therefore do not require Digital Input Disable bits. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel_num</td><td>the analog input channel you wish to use. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mozzi__analog_8cpp_source.html#l00186">186</a> of file <a class="el" href="mozzi__analog_8cpp_source.html">mozzi_analog.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga3f15eb8d6694020d170ebcbedb645de7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getAudioInput </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Audio input is currently restricted to analog pin 0 (this may change in future). The audio signal needs to be in the range 0 to 5 volts. Circuits and discussions about biasing a signal in the middle of this range can be found at <a href="http://electronics.stackexchange.com/questions/14404/dc-biasing-audio-signal">http://electronics.stackexchange.com/questions/14404/dc-biasing-audio-signal</a> and <a href="http://interface.khm.de/index.php/lab/experiments/arduino-realtime-audio-processing/">http://interface.khm.de/index.php/lab/experiments/arduino-realtime-audio-processing/</a> . A circuit and instructions for amplifying and biasing a microphone signal can be found at <a href="http://www.instructables.com/id/Arduino-Audio-Input/?ALLSTEPS">http://www.instructables.com/id/Arduino-Audio-Input/?ALLSTEPS</a> </p>
<dl class="section return"><dt>Returns</dt><dd>audio data from the input buffer </dd></dl>

</div>
</div>
<a class="anchor" id="gacd83735876cf223916ea4925ec4efd4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reconnectDigitalIn </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>channel_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel_num</td><td>the analog input channel you wish to reconnect. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mozzi__analog_8cpp_source.html#l00191">191</a> of file <a class="el" href="mozzi__analog_8cpp_source.html">mozzi_analog.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="gaf46803d06aa1d839192cc6125e39ff01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setupFastAnalogRead </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Put this in setup() if you intend to use analogRead() with Mozzi, to avoid glitches. Don't use it with the <a class="el" href="group__analog.html#gac9b066c792d2b822dcf518eef19a7c3e" title="Call this in setup() to enable reading analog inputs in the background while audio generating continu...">adcEnableInterrupt()</a>, <a class="el" href="group__analog.html#ga829091330473b48a8b9236d0be4b8755" title="Call adcReadAllChannels() in updateControl() and the results for each channel will be available by ca...">adcReadAllChannels()</a>, <a class="el" href="group__analog.html#gaaf4320d2621e15ea704900ea26a8aa07" title="Waits for the result of the most recent adcStartConversion().">adcGetResult()</a> approach, it may contribute to glitches. See: <a href="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1208715493/11,">http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1208715493/11,</a> and <a href="http://www.marulaberry.co.za/index.php/tutorials/code/arduino-adc/">http://www.marulaberry.co.za/index.php/tutorials/code/arduino-adc/</a> </p>

<p>Definition at line <a class="el" href="mozzi__analog_8cpp_source.html#l00029">29</a> of file <a class="el" href="mozzi__analog_8cpp_source.html">mozzi_analog.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Jul 13 2013 17:27:56 for Mozzi by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
